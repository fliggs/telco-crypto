enum WalletProvider {
  SOLANA
}

model Wallet {
  id            String         @id @default(uuid()) @db.Uuid
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @default(now()) @updatedAt
  address       String
  provider      WalletProvider
  isReadOnly    Boolean        @default(false)
  isImported    Boolean        @default(false)
  cloudBackupAt DateTime?
  localBackupAt DateTime?
  data          Json

  userId String @db.Uuid
  user   User   @relation(fields: [userId], references: [id])

  ordersSigning OrderSigningDetails[]

  @@unique([userId, address])
  @@unique([userId, provider])
}

model UserWalletData {
  id        String         @id @default(uuid()) @db.Uuid
  createdAt DateTime       @default(now())
  updatedAt DateTime       @default(now()) @updatedAt
  provider  WalletProvider
  data      Json

  userId String @db.Uuid
  user   User   @relation(fields: [userId], references: [id])

  @@unique([provider, userId])
}
